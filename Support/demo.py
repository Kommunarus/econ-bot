from Support.main import main_agent
compiled, config = main_agent()

print("="*60)
question = "(rag) назови изобретателя микроскопа"
print(question)
res = compiled.invoke({'messages': {"role": "human", "content": question}}, config)
print(res["end_answer"])

print("="*60)
question = "когда был изобретен микроскоп, посмотри в www"
print(question)
res = compiled.invoke({'messages': {"role": "human", "content": question}}, config)
print(res["end_answer"])

print("="*60)
question = "напиши скрипт и выполни его в песочнице. сообщи о результатах. Задача: покажи csv и на основе него график в виде plot длин микроорганизмов используя данные: амеба (0,1мм), инфузория (0,3мм), эвглена (0,05мм), трубач (1мм), коловратка (1мм). график сохрани в ../sandbox/g.png"
print(question)
res = compiled.invoke({'messages': {"role": "human", "content": question}}, config)
print(res["end_answer"])

print("="*60)
question = "найди в www сколько экзопланет открыто за все года наблюдений. нужна информация агрегированная по годам."
print(question)
res = compiled.invoke({'messages': {"role": "human", "content": question}}, config)
print(res["end_answer"])

print("="*60)
question = "а теперь сохрани таблицу 'Агрегированная статистика открытых экзопланет по годам, полученную на прошлом шаге' в planet.csv и покажи график. по оси x - года, по оси y - количество открытых планет"
print(question)
res = compiled.invoke({'messages':{"role": "human", "content": question}}, config)
print(res["end_answer"])



# ============================================================
# (rag) назови изобретателя микроскопа
# RAG
# Изобретателем микроскопа считается голландский мастер очков **Захари Янсен** (Zacharias Janssen) — первый, кто в конце XVI‑века создал и описал устройство с двумя линзами, позволяющее увеличивать объекты.
#
# *Источник:* Vinogradova, «История микроскопии», стр. 38.
# ============================================================
# когда был изобретен микроскоп, посмотри в www
# Web
# Микроскоп был изобретён голландским мастером очков **Захари Янсеном** (Zacharias Janssen) в конце XVI‑века, когда он создал и описал устройство с двумя линзами, позволяющее увеличивать объекты.
#
# *Источник:* Vinogradova, «История микроскопии», стр. 38.
# ============================================================
# напиши скрипт и выполни его в песочнице. сообщи о результатах. Задача: покажи csv и на основе него график в виде plot длин микроорганизмов используя данные: амеба (0,1мм), инфузория (0,3мм), эвглена (0,05мм), трубач (1мм), коловратка (1мм). график сохрани в ../sandbox/g.png
# Data
#
# >>>>>>>> EXECUTING CODE BLOCK 0 (inferred language is python)...
# Микроскоп был изобретён голландским мастером очков **Захари Янсеном (Zacharias Janssen)** в конце XVI‑века, когда он создал и описал устройство с двумя линзами, позволяющее увеличивать объекты.
#
# *Источник:* Vinogradova, «История микроскопии», стр. 38.
# ============================================================
# найди в www сколько экзопланет открыто за все года наблюдений. нужна информация агрегированная по годам.
# Web
# **Агрегированная информация о количестве открытых экзопланет по годам**
#
# | Год | Количество новых экзопланет (приблизительно) |
# |-----|----------------------------------------------|
# | 1995 | ~1 – 2 (первая подтверждённая планета – 51 Pegasi b, открытая методом радиальной скорости) |
# | 2000‑2004 | ~10 – 20 (распространение метода транзитов и дальнейшее развитие радиального скоростного метода) |
# | 2005‑2010 | ~300 – 400 (появление миссии *Kepler* в 2009 г.) |
# | 2011‑2014 | ~800 – 900 (активное использование *Kepler*, начало работы *K2*) |
# | 2015‑2020 | ~3 000 – 3 500 (полный набор данных *Kepler* и *TESS*, а также наблюдения с наземных телескопов) |
# | 2021‑2024 | ~4 200 – 4 300 (обновлённые списки, включающие данные *Gaia* и новые транзитные обнаружения) |
#
# > **Источник:**
# > - Wikipedia «Экзопланета» – общая статистика по количеству открытых планет (стр. 1‑2).
# > - Wikipedia «Список первых экзопланет» – данные о годах первых открытий (стр. 3‑4).
# > - Статья на habr.com «Разбивка открытых экзопланет по годам и по методам» (стр. 5‑6).
#
# **Краткое пояснение**
#
# - В начале 1990-х годов открывались планеты только методом радиальной скорости; количество было небольшим.
# - С запуском *Kepler* в 2009 г. число новых обнаружений резко возросло, особенно благодаря методу транзитов.
# - Последние годы (2021‑2024) включают данные из миссии *Gaia*, а также новые наблюдения *TESS*, что позволило увеличить общее число открытых экзопланет до более чем 4 300.
#
# > **Важно:** точные цифры могут варьироваться в зависимости от источника и критериев включения (например, «первый» vs. «подтверждённый»). Для самой актуальной статистики рекомендуется обращаться к базе Exoplanet.eu или NASA Exoplanet Archive.
# ============================================================
# а теперь сохрани таблицу 'Агрегированная статистика открытых экзопланет по годам, полученную на прошлом шаге' в planet.csv и покажи график. по оси x - года, по оси y - количество открытых планет
# Data
#
# >>>>>>>> EXECUTING CODE BLOCK 0 (inferred language is python)...
#
# >>>>>>>> EXECUTING CODE BLOCK 0 (inferred language is python)...
# **Сохранённый CSV**
#
# Файл `../sandbox/planet.csv` содержит таблицу:
#
# | Year | Planets |
# |------|---------|
# | 1995 | 2       |
# | 2000 | 10      |
# | 2004 | 20      |
# | 2005 | 300     |
# | 2010 | 400     |
# | 2011 | 800     |
# | 2014 | 900     |
# | 2015 | 3500    |
# | 2020 | 3500    |
# | 2021 | 4200    |
# | 2024 | 4300    |
#
# **График**
#
# - Ось X – годы (1995‑2024).
# - Ось Y – количество открытых экзопланет.
# - Линия с маркерами показывает рост числа обнаружений: небольшое число в начале, резкий скачок после запуска *Kepler* и дальнейший рост благодаря *TESS*, *Gaia* и другим наблюдениям.
#
# График сохранён как `../sandbox/g_planet.png`.